nia <- shapefile("/Users/xing/Documents/data_TO/maps/nia.shp")
nia_f <- fortify(nia)
###
###
######## plot map data using ggplot2 ##########
plot <- ggplot(map@data, aes(traffic_collisions, walk_score))
plot + geom_point()
# resize and recolour each point by different variables
plot + geom_point(aes(colour=home_price, size=total_population)) +
ggtitle("Walk Score vs. Traffic Collisions by Neighbourhood")
# adding text to the plot
plot + geom_point(aes(colour = home_price, size = total_population)) +
geom_text(size = 2, aes(label = AREA_NAME))
###
###
###### making a map using ggplot2 #####
map3 <- ggplot(map_f, aes(long, lat, group = group, fill = total_population)) +
geom_polygon() +
theme_nothing(legend = T) + # if you want to have just the map with nothing else, plus legend
scale_fill_distiller(name = "Population", trans = "reverse") +
coord_equal() +
ggtitle("Neigbhourhoods by Population")
# type map3 to show map
### to add text to the map ###
cnames <- aggregate(cbind(long, lat) ~ neighbourhood, data = map_f, FUN=function(x) mean(range(x)))
map4 <- ggplot() +
geom_polygon(data = map_f,
aes(x = long, y = lat, group = group, fill = total_population),
color = "transparent", size = 0.25) +
coord_map() +
scale_fill_distiller(name = "Population", trans = "reverse") +
theme_nothing(legend = TRUE) +
labs(title="Neighbourhoods by Population") +
geom_text(data=cnames, aes(long, lat, label = neighbourhood), size=2)
# map showing population choropleth, highlighting NIAs, with ttc line
ggplot() +
geom_polygon(data = map_f,
aes(x = long, y = lat, group = group, fill = total_population),
color = "transparent", size = 0.25) +
geom_polygon(data = nia_f,
aes(x = long, y = lat, group = group),
color = "transparent", alpha = 0.5) +
geom_path(data = ttc_f,
aes(x = long, y = lat, group = group)) +
coord_map() +
scale_fill_distiller(name = "Population", trans = "reverse") +
theme_nothing(legend = TRUE) +
labs(title="Neighbourhoods by Population")
# same thing but using other variables
ggplot() +
geom_polygon(data = map_f,
aes(x = long, y = lat, group = group, fill = low_income_population), # just change the fill
color = "transparent", size = 0.25) +
geom_polygon(data = nia_f,
aes(x = long, y = lat, group = group),
color = "grey", alpha = 0.3) +
geom_path(data = ttc_f,
aes(x = long, y = lat, group = group)) +
coord_map() +
scale_fill_distiller(name = "Low Income",
trans = "reverse") +
theme_nothing(legend = TRUE) +
labs(title="Low Income")
# to save map, use ggsave
ggsave("map3.png")
# adding other points to the map
ywca <- read.csv("/Users/xing/Documents/data_TO/data/ywca.csv")
ggplot() +
geom_polygon(data = map_f,
aes(x = long, y = lat, group = group, fill = lone_parent_families), # just change the fill
color = "transparent", size = 0.25) +
geom_polygon(data = nia_f,
aes(x = long, y = lat, group = group),
color = "yellow", fill = "transparent") +
geom_path(data = ttc_f,
aes(x = long, y = lat, group = group)) +
geom_point(data = ywca,
aes(x = long, y = lat),
color = "orange", alpha = 0.6, size = 3) +
geom_text(data = ywca, aes(long, lat, label = place_name), size = 4) +
coord_map() +
scale_fill_distiller(name = "Lone Parent Families", palette = 2, # choose colour scheme using palette
trans = "reverse") +
theme_nothing(legend = TRUE) +
ggtitle("YWCA Locations")
ggplot() +
geom_polygon(data = map_f,
aes(x = long, y = lat, group = group, fill = lone_parent_families), # just change the fill
color = "transparent", size = 0.25) +
geom_polygon(data = nia_f,
aes(x = long, y = lat, group = group),
color = "yellow", fill = "transparent") +
geom_path(data = ttc_f,
aes(x = long, y = lat, group = group)) +
geom_point(data = ywca,
aes(x = long, y = lat),
color = "orange", alpha = 0.6, size = 3) +
geom_text(data = ywca, aes(long, lat, label = place_name), size = 4) +
coord_map() +
scale_fill_distiller(name = "Lone Parent Families", palette = 1, # choose colour scheme using palette
trans = "reverse") +
theme_nothing(legend = TRUE) +
ggtitle("YWCA Locations")
ggplot() +
geom_polygon(data = map_f,
aes(x = long, y = lat, group = group, fill = lone_parent_families), # just change the fill
color = "transparent", size = 0.25) +
geom_polygon(data = nia_f,
aes(x = long, y = lat, group = group),
color = "yellow", fill = "transparent") +
geom_path(data = ttc_f,
aes(x = long, y = lat, group = group)) +
geom_point(data = ywca,
aes(x = long, y = lat),
color = "orange", alpha = 0.6, size = 3) +
geom_text(data = ywca, aes(long, lat, label = place_name), size = 4) +
coord_map() +
scale_fill_distiller(name = "Lone Parent Families", palette = 1, # choose colour scheme using palette
trans = "reverse") +
theme_nothing(legend = TRUE) +
ggtitle("YWCA Toronto Locations")
?geom_text
ggplot() +
geom_polygon(data = map_f,
aes(x = long, y = lat, group = group, fill = lone_parent_families), # just change the fill
color = "transparent", size = 0.25) +
geom_polygon(data = nia_f,
aes(x = long, y = lat, group = group),
color = "yellow", fill = "transparent") +
geom_path(data = ttc_f,
aes(x = long, y = lat, group = group)) +
geom_point(data = ywca,
aes(x = long, y = lat),
color = "orange", alpha = 0.6, size = 3) +
geom_text(data = ywca, aes(long, lat, label = place_name), size = 4, nudge_y = .5) +
coord_map() +
scale_fill_distiller(name = "Lone Parent Families", palette = 1, # choose colour scheme using palette
trans = "reverse") +
theme_nothing(legend = TRUE) +
ggtitle("YWCA Toronto Locations")
ggplot() +
geom_polygon(data = map_f,
aes(x = long, y = lat, group = group, fill = lone_parent_families), # just change the fill
color = "transparent", size = 0.25) +
geom_polygon(data = nia_f,
aes(x = long, y = lat, group = group),
color = "yellow", fill = "transparent") +
geom_path(data = ttc_f,
aes(x = long, y = lat, group = group)) +
geom_point(data = ywca,
aes(x = long, y = lat),
color = "orange", alpha = 0.6, size = 3) +
geom_text(data = ywca, aes(long, lat, label = place_name), size = 4, nudge_y = .1) +
coord_map() +
scale_fill_distiller(name = "Lone Parent Families", palette = 1, # choose colour scheme using palette
trans = "reverse") +
theme_nothing(legend = TRUE) +
ggtitle("YWCA Toronto Locations")
ggplot() +
geom_polygon(data = map_f,
aes(x = long, y = lat, group = group, fill = lone_parent_families), # just change the fill
color = "transparent", size = 0.25) +
geom_polygon(data = nia_f,
aes(x = long, y = lat, group = group),
color = "yellow", fill = "transparent") +
geom_path(data = ttc_f,
aes(x = long, y = lat, group = group)) +
geom_point(data = ywca,
aes(x = long, y = lat),
color = "orange", alpha = 0.6, size = 3) +
geom_text(data = ywca, aes(long, lat, label = place_name), size = 4, nudge_x = .1) +
coord_map() +
scale_fill_distiller(name = "Lone Parent Families", palette = 1, # choose colour scheme using palette
trans = "reverse") +
theme_nothing(legend = TRUE) +
ggtitle("YWCA Toronto Locations")
ggplot() +
geom_polygon(data = map_f,
aes(x = long, y = lat, group = group, fill = lone_parent_families), # just change the fill
color = "transparent", size = 0.25) +
geom_polygon(data = nia_f,
aes(x = long, y = lat, group = group),
color = "yellow", fill = "transparent") +
geom_path(data = ttc_f,
aes(x = long, y = lat, group = group)) +
geom_point(data = ywca,
aes(x = long, y = lat),
color = "orange", alpha = 0.6, size = 3) +
geom_text(data = ywca, aes(long, lat, label = place_name), size = 4, nudge_x = .05, nudge_y = .05) +
coord_map() +
scale_fill_distiller(name = "Lone Parent Families", palette = 1, # choose colour scheme using palette
trans = "reverse") +
theme_nothing(legend = TRUE) +
ggtitle("YWCA Toronto Locations")
ggplot() +
geom_polygon(data = map_f,
aes(x = long, y = lat, group = group, fill = lone_parent_families), # just change the fill
color = "transparent", size = 0.25) +
geom_polygon(data = nia_f,
aes(x = long, y = lat, group = group),
color = "yellow", fill = "transparent") +
geom_path(data = ttc_f,
aes(x = long, y = lat, group = group)) +
geom_point(data = ywca,
aes(x = long, y = lat),
color = "orange", alpha = 0.6, size = 3) +
geom_text(data = ywca, aes(long, lat, label = place_name), size = 4, nudge_x = .05, nudge_y = .01) +
coord_map() +
scale_fill_distiller(name = "Lone Parent Families", palette = 1, # choose colour scheme using palette
trans = "reverse") +
theme_nothing(legend = TRUE) +
ggtitle("YWCA Toronto Locations")
ggplot() +
geom_polygon(data = map_f,
aes(x = long, y = lat, group = group, fill = lone_parent_families), # just change the fill
color = "transparent", size = 0.25) +
geom_polygon(data = nia_f,
aes(x = long, y = lat, group = group),
color = "yellow", fill = "transparent") +
geom_path(data = ttc_f,
aes(x = long, y = lat, group = group)) +
geom_point(data = ywca,
aes(x = long, y = lat),
color = "orange", alpha = 0.6, size = 3) +
geom_text(data = ywca, aes(long, lat, label = place_name), size = 4, nudge_x = .02, nudge_y = .01) +
coord_map() +
scale_fill_distiller(name = "Lone Parent Families", palette = 1, # choose colour scheme using palette
trans = "reverse") +
theme_nothing(legend = TRUE) +
ggtitle("YWCA Toronto Locations")
ggplot() +
geom_polygon(data = map_f,
aes(x = long, y = lat, group = group, fill = lone_parent_families), # just change the fill
color = "transparent", size = 0.25) +
geom_polygon(data = nia_f,
aes(x = long, y = lat, group = group),
color = "yellow", fill = "transparent") +
geom_path(data = ttc_f,
aes(x = long, y = lat, group = group)) +
geom_point(data = ywca,
aes(x = long, y = lat),
color = "orange", alpha = 0.6, size = 3) +
geom_text(data = ywca, aes(long, lat, label = place_name), size = 2, nudge_x = .02, nudge_y = .01) +
coord_map() +
scale_fill_distiller(name = "Lone Parent Families", palette = 1, # choose colour scheme using palette
trans = "reverse") +
theme_nothing(legend = TRUE) +
ggtitle("YWCA Toronto Locations")
ggplot() +
geom_polygon(data = map_f,
aes(x = long, y = lat, group = group, fill = lone_parent_families), # just change the fill
color = "transparent", size = 0.25) +
geom_polygon(data = nia_f,
aes(x = long, y = lat, group = group),
color = "yellow", fill = "transparent") +
geom_path(data = ttc_f,
aes(x = long, y = lat, group = group)) +
geom_point(data = ywca,
aes(x = long, y = lat),
color = "orange", alpha = 0.6, size = 3) +
geom_text(data = ywca, aes(long, lat, label = place_name), size = 2.5, nudge_x = .02, nudge_y = .01) +
coord_map() +
scale_fill_distiller(name = "Lone Parent Families", palette = 1, # choose colour scheme using palette
trans = "reverse") +
theme_nothing(legend = TRUE) +
ggtitle("YWCA Toronto Locations")
ggplot() +
geom_polygon(data = map_f,
aes(x = long, y = lat, group = group, fill = lone_parent_families), # just change the fill
color = "transparent", size = 0.25) +
geom_polygon(data = nia_f,
aes(x = long, y = lat, group = group),
color = "yellow", fill = "transparent") +
geom_path(data = ttc_f,
aes(x = long, y = lat, group = group)) +
geom_point(data = ywca,
aes(x = long, y = lat),
color = "orange", alpha = 0.6, size = 3) +
geom_text(data = ywca, aes(long, lat, label = place_name), size = 2.5, nudge_y = .01) +
coord_map() +
scale_fill_distiller(name = "Lone Parent Families", palette = 1, # choose colour scheme using palette
trans = "reverse") +
theme_nothing(legend = TRUE) +
ggtitle("YWCA Toronto Locations")
names(map_f)
ggplot() +
geom_polygon(data = map_f,
aes(x = long, y = lat, group = group, fill = low_income_population), # just change the fill
color = "transparent", size = 0.25) +
geom_polygon(data = nia_f,
aes(x = long, y = lat, group = group),
color = "yellow", fill = "transparent") +
geom_path(data = ttc_f,
aes(x = long, y = lat, group = group)) +
geom_point(data = ywca,
aes(x = long, y = lat),
color = "orange", alpha = 0.6, size = 3) +
geom_text(data = ywca, aes(long, lat, label = place_name), size = 2.5, nudge_y = .01) +
coord_map() +
scale_fill_distiller(name = "Low Income Population", palette = 1, # choose colour scheme using palette
trans = "reverse") +
theme_nothing(legend = TRUE) +
ggtitle("YWCA Toronto Locations")
ggplot() +
geom_polygon(data = map_f,
aes(x = long, y = lat, group = group, fill = soc_house_waitlist), # just change the fill
color = "transparent", size = 0.25) +
geom_polygon(data = nia_f,
aes(x = long, y = lat, group = group),
color = "yellow", fill = "transparent") +
geom_path(data = ttc_f,
aes(x = long, y = lat, group = group)) +
geom_point(data = ywca,
aes(x = long, y = lat),
color = "orange", alpha = 0.6, size = 3) +
geom_text(data = ywca, aes(long, lat, label = place_name), size = 2.5, nudge_y = .01) +
coord_map() +
scale_fill_distiller(name = "Low Income Population", palette = 1, # choose colour scheme using palette
trans = "reverse") +
theme_nothing(legend = TRUE) +
ggtitle("YWCA Toronto Locations")
plot(map3)
names(map_f)
map3 <- ggplot(map_f, aes(long, lat, group = group, fill = bachelor_degree)) +
geom_polygon() +
theme_nothing(legend = T) + # if you want to have just the map with nothing else, plus legend
scale_fill_distiller(name = "Population", trans = "reverse") +
coord_equal() +
ggtitle("Neigbhourhoods by Population")
ggplot(map_f, aes(long, lat, group = group, fill = bachelor_degree)) +
geom_polygon() +
theme_nothing(legend = T) + # if you want to have just the map with nothing else, plus legend
scale_fill_distiller(name = "Population", trans = "reverse") +
coord_equal() +
ggtitle("Neigbhourhoods by Population")
View(dat1)
ggplot(map_f, aes(long, lat, group = group, fill = home_price)) +
geom_polygon() +
theme_nothing(legend = T) + # if you want to have just the map with nothing else, plus legend
scale_fill_distiller(name = "Population", trans = "reverse") +
coord_equal() +
ggtitle("Neigbhourhoods by Population")
map3 <- ggplot(map_f, aes(long, lat, group = group, fill = vehicle_thefts)) +
geom_polygon() +
theme_nothing(legend = T) + # if you want to have just the map with nothing else, plus legend
scale_fill_distiller(name = "Population", trans = "reverse") +
coord_equal() +
ggtitle("Neigbhourhoods by Population")
ggplot(map_f, aes(long, lat, group = group, fill = vehicle_thefts)) +
geom_polygon() +
theme_nothing(legend = T) + # if you want to have just the map with nothing else, plus legend
scale_fill_distiller(name = "Population", trans = "reverse") +
coord_equal() +
ggtitle("Neigbhourhoods by Population")
ggplot() +
geom_polygon(data = map_f,
aes(x = long, y = lat, group = group, fill = low_income_population), # just change the fill
color = "transparent", size = 0.25) +
geom_polygon(data = nia_f,
aes(x = long, y = lat, group = group),
color = "yellow", fill = "transparent") +
geom_path(data = ttc_f,
aes(x = long, y = lat, group = group)) +
geom_point(data = ywca,
aes(x = long, y = lat),
color = "orange", alpha = 0.6, size = 3) +
geom_text(data = ywca, aes(long, lat, label = place_name), size = 2.5, nudge_y = .01) +
coord_map() +
scale_fill_distiller(name = "Low Income Population", palette = 1, # choose colour scheme using palette
trans = "reverse") +
theme_nothing(legend = TRUE) +
ggtitle("YWCA Toronto Locations")
ggplot() +
geom_polygon(data = map_f,
aes(x = long, y = lat, group = group, fill = low_income_population), # just change the fill
color = "transparent", size = 0.25) +
geom_polygon(data = nia_f,
aes(x = long, y = lat, group = group),
color = "yellow", fill = "transparent") +
geom_path(data = ttc_f,
aes(x = long, y = lat, group = group)) +
geom_point(data = ywca,
aes(x = long, y = lat),
color = "orange", alpha = 0.6, size = 3) +
geom_text(data = ywca, aes(long, lat, label = place_name), size = 3, nudge_y = .01) +
coord_map() +
scale_fill_distiller(name = "Low Income Population", palette = 1, # choose colour scheme using palette
trans = "reverse") +
theme_nothing(legend = TRUE) +
ggtitle("YWCA Toronto Locations")
ggplot() +
geom_polygon(data = map_f,
aes(x = long, y = lat, group = group, fill = low_income_population), # just change the fill
color = "transparent", size = 0.25) +
geom_polygon(data = nia_f,
aes(x = long, y = lat, group = group),
color = "yellow", fill = "transparent") +
geom_path(data = ttc_f,
aes(x = long, y = lat, group = group)) +
geom_point(data = ywca,
aes(x = long, y = lat),
color = "orange", alpha = 0.6, size = 3) +
geom_text(data = ywca, aes(long, lat, label = place_name), size = 3) +
coord_map() +
scale_fill_distiller(name = "Low Income Population", palette = 1, # choose colour scheme using palette
trans = "reverse") +
theme_nothing(legend = TRUE) +
ggtitle("YWCA Toronto Locations")
ggplot() +
geom_polygon(data = map_f,
aes(x = long, y = lat, group = group, fill = low_income_population), # just change the fill
color = "transparent", size = 0.25) +
geom_polygon(data = nia_f,
aes(x = long, y = lat, group = group),
color = "yellow", fill = "transparent") +
geom_path(data = ttc_f,
aes(x = long, y = lat, group = group)) +
geom_point(data = ywca,
aes(x = long, y = lat),
color = "orange", alpha = 0.6, size = 3) +
geom_text(data = ywca, aes(long, lat, label = place_name), size = 3, nudge_y = .005) +
coord_map() +
scale_fill_distiller(name = "Low Income Population", palette = 1, # choose colour scheme using palette
trans = "reverse") +
theme_nothing(legend = TRUE) +
ggtitle("YWCA Toronto Locations")
dat1$neighbourhood[dat1$low_income_population > 10000,]
View(dat1)
dat1$neighbourhood[dat1$low_income_population > 1000,]
dat1$neighbourhood[dat1$low_income_population >10000,]
dat1$neighbourhood[dat1$total_population > 10000,]
dat1$neighbourhood[dat1$total_population > 10000],
dat1$neighbourhood[dat1$total_population > 10000
dat1$neighbourhood[,dat1$total_population >10000]
ggplot() +
geom_polygon(data = map_f,
aes(x = long, y = lat, group = group, fill = lone_parent_families), # just change the fill
color = "transparent", size = 0.25) +
geom_polygon(data = nia_f,
aes(x = long, y = lat, group = group),
color = "yellow", fill = "transparent") +
geom_path(data = ttc_f,
aes(x = long, y = lat, group = group)) +
geom_point(data = ywca,
aes(x = long, y = lat),
color = "orange", alpha = 0.6, size = 3) +
geom_text(data = ywca, aes(long, lat, label = place_name), size = 3, nudge_y = .005) +
coord_map() +
scale_fill_distiller(name = "Lone Parent Families", palette = 1, # choose colour scheme using palette
trans = "reverse") +
theme_nothing(legend = TRUE) +
ggtitle("YWCA Toronto Locations")
ggplot() +
geom_polygon(data = map_f,
aes(x = long, y = lat, group = group, fill = lone_parent_families), # just change the fill
color = "transparent", size = 0.25) +
geom_polygon(data = nia_f,
aes(x = long, y = lat, group = group),
color = "yellow", fill = "transparent") +
geom_path(data = ttc_f,
aes(x = long, y = lat, group = group)) +
geom_point(data = ywca,
aes(x = long, y = lat),
color = "orange", alpha = 0.6, size = 3) +
geom_text(data = ywca, aes(long, lat, label = place_name), size = 3, nudge_y = .005) +
coord_map() +
scale_fill_distiller(name = "Lone Parent Families", palette = 1, # choose colour scheme using palette
trans = "reverse") +
scale_color_manual(name = NIAs, values = nia_f)
theme_nothing(legend = TRUE) +
ggtitle("YWCA Toronto Locations")
?scale_color_manual
ggplot() +
geom_polygon(data = map_f,
aes(x = long, y = lat, group = group, fill = lone_parent_families), # just change the fill
color = "transparent", size = 0.25) +
geom_polygon(data = nia_f,
aes(x = long, y = lat, group = group),
color = "yellow", fill = "transparent") +
geom_path(data = ttc_f,
aes(x = long, y = lat, group = group)) +
geom_point(data = ywca,
aes(x = long, y = lat),
color = "orange", alpha = 0.6, size = 3) +
geom_text(data = ywca, aes(long, lat, label = place_name), size = 3, nudge_y = .005) +
coord_map() +
scale_fill_distiller(name = "Lone Parent Families", palette = 1, # choose colour scheme using palette
trans = "reverse") +
scale_color_manual(name = NIAs, values = color)
theme_nothing(legend = TRUE) +
ggtitle("YWCA Toronto Locations")
?geom_polygon
ggplot() +
geom_polygon(data = map_f,
aes(x = long, y = lat, group = group, fill = lone_parent_families), # just change the fill
color = "transparent", size = 0.25) +
geom_polygon(data = nia_f,
aes(x = long, y = lat, group = group),
color = "yellow", fill = "transparent",
show.legend = T) +
geom_path(data = ttc_f,
aes(x = long, y = lat, group = group)) +
geom_point(data = ywca,
aes(x = long, y = lat),
color = "orange", alpha = 0.6, size = 3) +
geom_text(data = ywca, aes(long, lat, label = place_name), size = 3, nudge_y = .005) +
coord_map() +
scale_fill_distiller(name = "Lone Parent Families", palette = 1, # choose colour scheme using palette
trans = "reverse") +
theme_nothing(legend = TRUE) +
ggtitle("YWCA Toronto Locations")
?geom_polygon
